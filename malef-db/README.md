Malef Data Base
===============
   Malef Data Bases are files that contain information about how certain
terminal behaves and which are its capabilities. We could say it's kind of like
Termcaps library. The sources extension is **.mdbraw**, and the compiled ones
are **.mdb**. These will be installed alongside the Malef library and loaded at
run-time when Malef is Initialized to choose the best subsystem and to be able
to replicate many styles that cannot be used directly by the terminal.

## .mdbraw
   The syntax for .mdbraw files is very simple. They are just **.json** files.
You only have to fill the fields generated by [malef-db.py](malef-db).

## .mdb
   The binary structure for malef data bases depends on the version. However
they all have the following structure: **Header**, **Post-Header**, **Body**. The Header
is fixed for all versions, the others may change. I'll try to keep backwards
compatibility for other versions. You can see the different versions under
the [versions](versions) folder.

   *Note: The bit structure of the data is represented as an Ada record.*

### Header
   The header has a size of 80 bits (10 bytes) and it's fixed:
```Ada
type Header is
   record
      Signature : String (1 .. 3) := "mdb";
      Version   : array  (1 .. 3) of Unsigned_8;
      Backwards : array  (1 .. 3) of Unsigned_8;
      Subsystem : is (ANSI => 0, CMD => 1, ...);
   end record
with Size => 80;
```

   * Signature: The first three bytes MUST match "mdb" so it can be recognised
   as a Malef Data Base file. Otherwise it won't be loaded.
   * Version: The version of the Malef Data Base. It's the same version Malef
   had when the database was compiled.
   * Backwards: It's the first version it's compatible with. For example, 100
   versions may have been released, but it can be still compatible with certain
   version.
   * Subsystem: It's the subsystem it's compatible with. More of them may be
   added in the future.


### Post-Header
   The post-header keeps information about configuration files and syntax. It
always starts with 2 bytes (Unsigned_16, little endian) with the number of
bytes reserved for the post-header. This helps the implementation to skip this
part if it wasn't needed. This part is usually reserved for configuration files
and the syntax for them.


### Body
   The body keeps the real information about terminal capabilities.
